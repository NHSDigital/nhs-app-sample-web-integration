@model UserInfoViewModel

@{
    ViewBag.Title = "Profile";
}
<dl class="nhsuk-summary-list">
    <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">
            Name
        </dt>
        <dd class="nhsuk-summary-list__value">
            @Model.GivenName  @Model.FamilyName
        </dd>
    </div>
    <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">
            Date of birth
        </dt>
        <dd class="nhsuk-summary-list__value">
            @Model.Birthdate
        </dd>
    </div>
</dl>

<form method="post" asp-action="GenerateSso">
    <button class="nhsuk-button" type="submit">
        Generate Single Sign On identity token
    </button>
</form>

@if (!string.IsNullOrEmpty(Model.SsoToken))
{
    <div id="ssoDiv">
        <p>Copy the token below and paste into textbox in logged out screen to use Single Sign On option.</p>
        <p>This token will expire in 60 seconds.</p>
        <textarea class="nhsuk-textarea" rows="12" aria-label="SSO Token">@Model.SsoToken</textarea>
    </div>
}

<form method="post" asp-action="Logout" asp-controller="Login">
    <button class="nhsuk-button nhsuk-u-margin-top-2" type="submit">
        Logout
    </button>
</form>
